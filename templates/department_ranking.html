{% extends 'base.html' %}
{% block title %}üìä –†–µ–π—Ç–∏–Ω–≥ –∫–∞—Ñ–µ–¥—Ä{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1 class="text-center mb-3">üìä –†–µ–π—Ç–∏–Ω–≥ –∫–∞—Ñ–µ–¥—Ä</h1>
    <p class="text-center text-muted">–û—Ü—ñ–Ω—ñ—Ç—å —Å–µ—Ä–µ–¥–Ω—ñ–π —Ä—ñ–≤–µ–Ω—å –ø—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª—ñ–∑–º—É, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ –ø–æ—è—Å–Ω–µ–Ω—å —Ç–∞ —Å—Ç–∞–≤–ª–µ–Ω–Ω—è –¥–æ —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤.</p>

    <table class="table table-striped table-hover shadow-sm">
        <thead class="table-dark text-center">
            <tr>
                <th>#Ô∏è‚É£</th>
                <th>üèõ –ù–∞–∑–≤–∞ –∫–∞—Ñ–µ–¥—Ä–∏</th>
                <th>üéì –§–∞–∫—É–ª—å—Ç–µ—Ç</th>
                <th>üìñ –ü—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª—ñ–∑–º</th>
                <th>üí¨ –ü–æ—è—Å–Ω–µ–Ω–Ω—è</th>
                <th>üë• –°—Ç–∞–≤–ª–µ–Ω–Ω—è</th>
                <th>üë®‚Äçüè´ –í–∏–∫–ª–∞–¥–∞—á—ñ</th>
            </tr>
        </thead>
        <tbody>
            {% for department in departments %}
            <tr class="{% if forloop.first %}table-warning{% elif forloop.counter == 2 %}table-secondary{% elif forloop.counter == 3 %}table-info{% endif %}">
                <td class="text-center">
                    {% if forloop.first %}ü•á
                    {% elif forloop.counter == 2 %}ü•à
                    {% elif forloop.counter == 3 %}ü•â
                    {% else %}{{ forloop.counter }}{% endif %}
                </td>
                <td>
                    <a href="{% url 'department_detail' department.id %}" class="fw-bold text-decoration-none">
                        {{ department.name }}
                    </a>
                </td>
                <td class="text-muted">{{ department.faculty.name }}</td>
                <td class="text-center">{{ department.avg_professionalism|default:"N/A"|floatformat:1 }} ‚≠ê</td>
                <td class="text-center">{{ department.avg_clarity|default:"N/A"|floatformat:1 }} ‚≠ê</td>
                <td class="text-center">{{ department.avg_attitude|default:"N/A"|floatformat:1 }} ‚≠ê</td>
                <td class="text-center">{{ department.professor_count }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
